---
title: angular
order: 5.1
---

因为接手过angular的项目，angularjs跟angular2.0都接触过，三大框架都撸了一遍了，不敢说熟练使用，但也是有了一些使用和选型心得了，在此尝试细说三大框架的优点以区别，加深自己理解的同时，也帮助大家快速搞定技术选型。

## 什么是Angular？
Angular是一个开放源代码的前端Web框架。它是最流行的JavaScript框架之一，主要由Google维护。它提供了一个轻松开发基于Web的应用程序的平台，并使前端开发人员能够管理跨平台应用程序。它集成了强大的功能，例如声明性模板，端到端工具，依赖项注入以及各种其他使开发路径更流畅的最佳实践。

## Angular Vue React的区别
最开始我也喜欢vue，他响应式的写法，简洁的语法，以及不用借助工具，单纯引入cdn文件就能开发的能力，着实令人着迷，但是后来我发现，react 更灵活的写法，处处都能秀的最佳实践，以及更多的选择所带来的新鲜感，连一个css 都能给玩出花来，在后来，接触了angular 发现他又大又全的能力，更好的工程化，强制性分层、依赖注入，以及ts天然的代码检查能力，也非常香，那么问题来了，那个才是最好的框架呢？

没有最好的框架，他们都是好框架，主要看使用框架的人好不好，强不强，厉害不厉害，但是，现在大多数前端码农依旧还在为自己的喜好而争个胜负。框架只是接管、包裹、组织，从这个角度来说，各框架都一样。不一样的是范式和编程模式，灵活的函数式，森严的面向对象方式，以及借助各种思想工具减少我们的开发时间，优化我们的开发体验，选框架，只不过是信仰，并没有好坏之分，就好像你信任佛教，他信任基督教一样。

### vue
1. 响应式

2. 模板语法
```<p>{{message}}</p>```

3. 使用友好，上手简单

4. 弱化性能优化，用户只需关注逻辑

### react
1. 不可变值的设计思想，也是函数式编程的实践
我们知道，在react中性能优化的权利交给了开发者，所以，在默认情况下当react 的父组件更新时，子组件必然更新，这样，就需要我们使用react 提供的一些优化手段，比如scu，比如purecomponent和memo等，来进行相关的性能优化，我们知道
ShouldComponentUpdate(SCU)可以用来阻断更新的蔓延。但是React组件默认并没有实现它，因而需要开发者来判断是否需要对应用进行性能优化。在这个方法中，你可以检测组件的state或props是否被修改，如果没有修改那么将返回false，那么这个组件和它的子组件都不会被重新渲染。问题在于这里：如果数据是可变的，并且被直接修改了，SCU会一直返回false，这就导致组件永远不被重新渲染，在设计之初，这个不可变值的的理念就贯穿react，甚至还为不可变值专门耗时两年开发了Immutable.js
这个js的库，这也是函数式编程的理念。

2. all in js
在react中一切皆js，其实所谓的jsx也只是一个语法糖，正是由于这样的开发体验，许多开发者会有种写的更爽的感觉，他没有vue中各种模板语法的限制，编写自由度高，他注重更更大的颗粒度拆分，推重组件化的设计思想，在react 中一切皆是组件，一个大型的项目都是有一个个组件仿佛积木一般堆积而成

3. 活跃的社区，繁荣的生态

4. 多端发展跨平台的能力
在react 中的事件是自己写的，而不是用的浏览器原生的，所以这样就能实现很好的跨平台能力。

5. Fiber(时间分片)
react16中新增了Fiber(时间分片)，这种渲染机制，他将Reconcilation阶段的人物分成一个个执行单元，也就是所谓的fiber，然后利用requestIdleCallback这个方法去在主进程空闲的状态下执行一个个fiber

大致解决了由于react渲染时由于diff计算过长占用主进程所带来的卡顿，以及掉帧问题。

### angular
之前之所以说angular 又大又全，是因为，他不需要借助社区的力量，仅仅靠自己就能实现一个产品从开始到上线的解决方案，他会提供开发时所需的所有服务，比如http服务，比如router服务，比如公共数据管理服务service，
这些angular 全部完备，他更像是一个后端语言，严格的类型检查，拥抱ts，强制性分层，以及更好的工程，面向对象编程的思想。angular很高大全同时也很复杂，angular官方库给了你一切你想要的，使用angular技术栈，
基本上你不用对组件选型浪费太多时间精力（对比react）。

### 三大框架的一些区别和联系
- 都是数据驱动视图
三大框架，都是属于mvvm框架，数据驱动视图的思想始终贯穿始终，所以我们在开发时，只需要关注数据变化即可，虽然使用方式不尽相同，react 属于函数式，angular 和vue 属于声明式编程，但是，数据驱动的思想不变，比如react 使用setState赋值，而vue 和angular 使用显式直接赋值他们最后的目的都是改值，从而触发页面更新

### 区别
React与Vue，angular最大的不同是模板的编写。Vue和angulr鼓励你去写近似常规HTML的模板。写起来很接近标准HTML元素，只是多了一些属性。而react则崇尚all in js 所以独创jsx的编写风格，但是他们本质上都是一个语法糖，编译之后都是一个可执行的函数，

在底层渲染方面，vue 和react 都使用的虚拟dom，而angular 却没有使用，查了一下，他好像使用的是Incremental DOM，
[Incremental DOM](https://blog.csdn.net/rockan007/article/details/90716237)

### 函数式编程，声明式编程
在react中不可变值贯穿整个框架，如果你要改变数据，那么必须调用api去改，这就是函数式编程的思想，而在vue，和angualr中，声明式编程的思想也深入人心，既方便有快捷。这种直接赋值的方式，和用api赋值的方式，其实，只是用法不同而已，本质还是数据驱动

## Angular脏检查，您了解什么？
angular根本不监听数据的变动，而是在$rootScope开始遍历所有$scope，检查它们上面的属性值是否有变化，如果有变化，就用一个变量dirty记录为true，再次进行遍历，如此往复，直到某一个遍历完成时，这些$scope的属性值都没有变化时，结束遍历。由于使用了一个dirty变量作为记录，因此被称为脏检查机制。

angular的$watch, $apply, $digest

- $watch绑定要检查的值
- $digest遍历递归
- $apply触发$digest

[参考文档](https://juejin.cn/post/6844903617992851463#heading-1)

## Angular双向数据绑定，您了解什么？
Angular2中的双向绑定

双向绑定，也是Angular2的核心概念之一，Angular2的双向绑定是这样的：
    
- data=>view：数据绑定，模板语法是 []

- view=>data：事件绑定，模板语法是 ()

- Angular其实并没有一个双向绑定的实现，他的双向绑定就是数据绑定+事件绑定，模板语法是 [()] 。

Angular2官方给的例子：
```
<!--value是数据绑定，input是事件绑定-->
<input [value]="currentHero.name"   
       (input)="currentHero.name=$event.target.value"
       >
<!--等价-->
<input [(ngModel)]="currentHero.name">
```


